{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../cart.service\";\nimport * as i3 from \"../order.service\";\nimport * as i4 from \"@angular/common\";\nfunction CartComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\", 2)(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_2_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const cart_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.removeFromCart(cart_r1.products));\n    });\n    i0.ɵɵtext(10, \"Remove\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(11, \"br\")(12, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const cart_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(cart_r1.products.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 2, cart_r1.products.price));\n  }\n}\nexport class CartComponent {\n  constructor(route, router, cartService, orderService) {\n    this.route = route;\n    this.router = router;\n    this.cartService = cartService;\n    this.orderService = orderService;\n    this.routeParams = this.route.snapshot.paramMap;\n    this.FromRoute = String(this.routeParams.get('username'));\n  }\n  ngOnInit() {\n    this.cartService.getItems('user/cart/' + this.FromRoute).subscribe(res => {\n      console.log(res);\n      this.carts = res;\n      console.log(this.carts);\n    });\n  }\n  removeFromCart(product) {\n    // this.cartService.remove(product);\n    window.alert('Your product has been removed from the cart!');\n  }\n  OrderPlaced() {\n    // add logic to add this order to orders. \n    this.orderService.PlaceOrder('user/previousOrder/' + this.FromRoute, this.carts.products).subscribe(res => {});\n    this.cartService.clearCart();\n    window.alert('Your order has been placed!');\n    this.router.navigate(['/buyer', this.FromRoute]);\n  }\n  clearCart() {\n    this.cartService.clearCart();\n    // this.items = this.cartService.getItems();\n    this.router.navigate(['/buyer', this.FromRoute]);\n    window.alert('Your cart has been cleared!');\n  }\n}\nCartComponent.ɵfac = function CartComponent_Factory(t) {\n  return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.CartService), i0.ɵɵdirectiveInject(i3.OrderService));\n};\nCartComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CartComponent,\n  selectors: [[\"app-cart\"]],\n  decls: 10,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [3, \"click\"], [1, \"cart-item\"]],\n  template: function CartComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h3\");\n      i0.ɵɵtext(1, \"Cart\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(2, CartComponent_div_2_Template, 13, 4, \"div\", 0);\n      i0.ɵɵelementStart(3, \"div\")(4, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function CartComponent_Template_button_click_4_listener() {\n        return ctx.OrderPlaced();\n      });\n      i0.ɵɵtext(5, \"Proceed To Buy\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"br\")(7, \"br\");\n      i0.ɵɵelementStart(8, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function CartComponent_Template_button_click_8_listener() {\n        return ctx.clearCart();\n      });\n      i0.ɵɵtext(9, \"Clear Cart\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.carts);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.CurrencyPipe],\n  styles: [\".cart-item[_ngcontent-%COMP%] {\\r\\n  width: 100%;\\r\\n  min-width: 400px;\\r\\n  max-width: 450px;\\r\\n  display: flex;\\r\\n  flex-direction: row;\\r\\n  justify-content: space-between;\\r\\n  padding: 16px 32px;\\r\\n  margin-bottom: 8px;\\r\\n  border-radius: 2px;\\r\\n  background-color: rgb(218, 218, 218);\\r\\n  color: #000000;\\r\\n  font: 30px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYnV5ZXIvY2FydC9jYXJ0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0VBQ1gsZ0JBQWdCO0VBQ2hCLGdCQUFnQjtFQUNoQixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLDhCQUE4QjtFQUM5QixrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQixvQ0FBb0M7RUFDcEMsY0FBYztFQUNkLFVBQVU7QUFDWiIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJ0LWl0ZW0ge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIG1pbi13aWR0aDogNDAwcHg7XHJcbiAgbWF4LXdpZHRoOiA0NTBweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gIHBhZGRpbmc6IDE2cHggMzJweDtcclxuICBtYXJnaW4tYm90dG9tOiA4cHg7XHJcbiAgYm9yZGVyLXJhZGl1czogMnB4O1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigyMTgsIDIxOCwgMjE4KTtcclxuICBjb2xvcjogIzAwMDAwMDtcclxuICBmb250OiAzMHB4O1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAEAA,2BAAiC;IAEvBA,YAAsB;IAAAA,iBAAO;IAAAA,qBAAI;IACvCA,4BAAM;IAAAA,YAAmC;;IAAAA,iBAAO;IAAAA,qBAAI;IACpDA,iCAAgD;IAAxCA;MAAA;MAAA;MAAA;MAAA,OAASA,sDAA6B;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;IAEjEA,sBAAI;IACNA,iBAAM;;;;IALIA,eAAsB;IAAtBA,2CAAsB;IACtBA,eAAmC;IAAnCA,kEAAmC;;;ACK7C,OAAM,MAAOC,aAAa;EAWxBC,YACUC,KAAoB,EACpBC,MAAa,EACbC,WAAwB,EACxBC,YAAyB;IAHzB,UAAK,GAALH,KAAK;IACL,WAAM,GAANC,MAAM;IACN,gBAAW,GAAXC,WAAW;IACX,iBAAY,GAAZC,YAAY;IAGtB,gBAAW,GAAG,IAAI,CAACH,KAAK,CAACI,QAAQ,CAACC,QAAQ;IAC1C,cAAS,GAAGC,MAAM,CAAC,IAAI,CAACC,WAAW,CAACC,GAAG,CAAC,UAAU,CAAC,CAAC;EAHhD;EAbJC,QAAQ;IACN,IAAI,CAACP,WAAW,CAACQ,QAAQ,CAAC,YAAY,GAAC,IAAI,CAACC,SAAS,CAAC,CAACC,SAAS,CAACC,GAAG,IAAE;MACpEC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChB,IAAI,CAACG,KAAK,GAACH,GAAG;MACdC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACC,KAAK,CAAC;IACzB,CAAC,CAAC;EACJ;EAYAC,cAAc,CAACC,OAAe;IAC5B;IACAC,MAAM,CAACC,KAAK,CAAC,8CAA8C,CAAC;EAC9D;EACAC,WAAW;IACR;IACD,IAAI,CAAClB,YAAY,CAACmB,UAAU,CAAC,qBAAqB,GAAC,IAAI,CAACX,SAAS,EAAC,IAAI,CAACK,KAAK,CAACO,QAAQ,CAAC,CAACX,SAAS,CAACC,GAAG,IAAE,CAAC,CAAC,CAAC;IACzG,IAAI,CAACX,WAAW,CAACsB,SAAS,EAAE;IAC5BL,MAAM,CAACC,KAAK,CAAC,6BAA6B,CAAC;IAC3C,IAAI,CAACnB,MAAM,CAACwB,QAAQ,CAAC,CAAC,QAAQ,EAAC,IAAI,CAACd,SAAS,CAAC,CAAC;EACjD;EACAa,SAAS;IACP,IAAI,CAACtB,WAAW,CAACsB,SAAS,EAAE;IAC5B;IACA,IAAI,CAACvB,MAAM,CAACwB,QAAQ,CAAC,CAAC,QAAQ,EAAC,IAAI,CAACd,SAAS,CAAC,CAAC;IAC/CQ,MAAM,CAACC,KAAK,CAAC,6BAA6B,CAAC;EAC7C;;AArCWtB,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAA4B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV1BjC,0BAAI;MAAAA,oBAAI;MAAAA,iBAAK;MAEbA,+DAOM;MAENA,2BAAK;MACKA;QAAA,OAASkC,iBAAa;MAAA,EAAC;MAAClC,8BAAc;MAAAA,iBAAS;MACvDA,qBAAI;MACJA,iCAA+B;MAAvBA;QAAA,OAAUkC,eAAW;MAAA,EAAC;MAAClC,0BAAU;MAAAA,iBAAS;;;MAZ7BA,eAAQ;MAARA,mCAAQ","names":["i0","CartComponent","constructor","route","router","cartService","orderService","snapshot","paramMap","String","routeParams","get","ngOnInit","getItems","FromRoute","subscribe","res","console","log","carts","removeFromCart","product","window","alert","OrderPlaced","PlaceOrder","products","clearCart","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\POC _ E_COMMERCE\\E_COMMERCE\\code\\Frontend\\src\\app\\buyer\\cart\\cart.component.html","D:\\POC _ E_COMMERCE\\E_COMMERCE\\code\\Frontend\\src\\app\\buyer\\cart\\cart.component.ts"],"sourcesContent":["<h3>Cart</h3>\n\n<div  *ngFor=\"let cart of carts\">\n  <div class=\"cart-item\" >\n    <span>{{cart.products.name}}</span><br>\n    <span>{{cart.products.price | currency }}</span><br>\n    <button (click)=\"removeFromCart(cart.products)\">Remove</button>\n  </div>\n  <br><br>\n</div>\n\n<div>\n  <button (click)=\"OrderPlaced()\">Proceed To Buy</button>\n  <br><br>\n  <button (click)= \"clearCart()\">Clear Cart</button>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { CartService } from '../cart.service';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { Product } from 'src/app/products';\nimport { OrderService} from '../order.service'\n@Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n})\nexport class CartComponent implements OnInit{\n  \n  carts:any;\n  ngOnInit(){\n    this.cartService.getItems('user/cart/'+this.FromRoute).subscribe(res=>{\n      console.log(res);\n      this.carts=res;\n      console.log(this.carts);\n    });\n  }\n\n  constructor(\n    private route:ActivatedRoute,\n    private router:Router,\n    private cartService: CartService,\n    private orderService:OrderService\n  ) { }\n\n  routeParams = this.route.snapshot.paramMap;\n  FromRoute = String(this.routeParams.get('username'));\n\n  removeFromCart(product:Product){\n    // this.cartService.remove(product);\n    window.alert('Your product has been removed from the cart!');\n  }\n  OrderPlaced(){\n     // add logic to add this order to orders. \n    this.orderService.PlaceOrder('user/previousOrder/'+this.FromRoute,this.carts.products).subscribe(res=>{})\n    this.cartService.clearCart();\n    window.alert('Your order has been placed!');\n    this.router.navigate(['/buyer',this.FromRoute]);\n  }\n  clearCart(){\n    this.cartService.clearCart();\n    // this.items = this.cartService.getItems();\n    this.router.navigate(['/buyer',this.FromRoute]);\n    window.alert('Your cart has been cleared!');\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}